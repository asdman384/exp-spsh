<div class="form">
  <mat-tab-group
    class="user-selector"
    [(selectedIndex)]="currentSheetIndex"
    (selectedIndexChange)="formChanged($event, currentMonthIndex, sheets)"
  >
    @for (sheet of sheets; track sheet.id) {
    <mat-tab [label]="sheet.title.split('_')[1]"></mat-tab>
    }
  </mat-tab-group>

  <mat-tab-group
    #monthSelector
    class="month-selector"
    [(selectedIndex)]="currentMonthIndex"
    (selectedIndexChange)="formChanged(currentSheetIndex, $event, sheets)"
  >
    @for (tab of monthTabs; track tab; let i = $index) {
    <mat-tab [label]="tab"></mat-tab>
    }
  </mat-tab-group>
</div>

<expenses-table
  #summaryTable
  [dataSource]="(expenses$ | async) || []"
  (onCellClick)="expensesTableCellClickHandler($event)"
></expenses-table>
