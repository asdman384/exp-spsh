<mat-toolbar color="primary">
  <mat-toolbar-row *ngIf="user$ | async as user">
    <span class="header-title">Custom Toolbar</span>

    <button mat-icon-button [matMenuTriggerFor]="menu" color="primary">
      <img [ngClass]="{ online: isOnline$ | async }" class="avatar" width="38" height="38" [src]="user.picture" />
    </button>
  </mat-toolbar-row>
</mat-toolbar>
<div class="progress-container">
  <mat-progress-bar *ngIf="loading$ | async" mode="indeterminate"></mat-progress-bar>
</div>

<mat-menu #menu="matMenu">
  <button mat-menu-item [routerLink]="[route.setup, route.settings]" queryParamsHandling="preserve">
    <mat-icon>settings</mat-icon>
    <span>Settings</span>
  </button>
  <button mat-menu-item [routerLink]="[]" [queryParams]="{ logger: 'window' }" [replaceUrl]="true">
    <mat-icon>memory</mat-icon>
    <span>Debug console</span>
  </button>
  <button mat-menu-item (click)="logout()" [disabled]="(isOnline$ | async) === false">
    <mat-icon>logout</mat-icon>
    <span>Logout</span>
  </button>
</mat-menu>

<div class="content">
  <router-outlet></router-outlet>
</div>
